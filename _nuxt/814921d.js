(window.webpackJsonp=window.webpackJsonp||[]).push([[4,2],{279:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var r="0xDCccFFCF9C6813029A972FD0CB2f4Fd9b391fc47",o=[{constant:!1,inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"burnChange",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"burnerAddr",type:"address"}],name:"burnerChange",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"back",type:"string"},{internalType:"string",name:"eye",type:"string"},{internalType:"string",name:"body",type:"string"},{internalType:"string",name:"belly",type:"string"}],name:"ColorChange",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"GetCave",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"GiveCave",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"GiveItem",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"headReset",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"itemReset",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"back",type:"string"},{internalType:"string",name:"eye",type:"string"},{internalType:"string",name:"body",type:"string"},{internalType:"string",name:"belly",type:"string"}],name:"Mint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"mouthReset",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"creator",type:"uint256"}],name:"setHuntingHead",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"creator",type:"uint256"}],name:"setHuntingMouth",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"name",type:"string"}],name:"SetMyHead",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"name",type:"string"}],name:"SetMyItem",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"name",type:"string"}],name:"SetMyTail",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"kluAddr",type:"address"},{internalType:"address",name:"burnerAddr",type:"address"},{internalType:"address",name:"whaleAddr",type:"address"},{internalType:"address",name:"dnaAddr",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"category",type:"string"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"hunting",type:"event"},{constant:!1,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"HuntingItem",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"creator",type:"uint256"}],name:"setHuntingItem",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"creator",type:"uint256"}],name:"setHuntingTail",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"name",type:"string"}],name:"SetMyMouth",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"tailReset",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"tokenAddr",type:"address"}],name:"tokenChange",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"valueChange",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"Dashboard",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"string[]",name:"",type:"string[]"},{internalType:"string[]",name:"",type:"string[]"},{internalType:"bool[]",name:"",type:"bool[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ItemList",outputs:[{internalType:"string[]",name:"",type:"string[]"},{internalType:"string[]",name:"",type:"string[]"},{internalType:"string[]",name:"",type:"string[]"},{internalType:"string[]",name:"",type:"string[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"MyItem",outputs:[{internalType:"string[]",name:"",type:"string[]"},{internalType:"string[]",name:"",type:"string[]"},{internalType:"string[]",name:"",type:"string[]"},{internalType:"string[]",name:"",type:"string[]"}],payable:!1,stateMutability:"view",type:"function"}]},280:function(t,e,n){"use strict";n.r(e);n(5),n(4),n(2),n(1),n(6),n(3),n(7);var r=n(34),o=n(0),l=(n(79),n(37),n(282),n(161),n(80)),c=n(279),y=[{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}];function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={computed:m({},Object(l.b)({connected:"dashboard/connected"})),methods:m({walletConnect:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window,(r=n.klaytn)&&r.isKaikas){e.next=4;break}return alert("KAIKAS 확장프로그램 설치가 필요합니다"),e.abrupt("return");case 4:if(8217===r.networkVersion){e.next=7;break}return alert("Cypress Main Network로 변경해주세요"),e.abrupt("return");case 7:return e.next=9,r.enable();case 9:setTimeout((function(){new caver.klay.Contract(c.a,c.b).methods.Dashboard().call().then((function(e){e?(t.connect(e),r.on("accountsChanged",(function(){alert("지갑이 변경되었습니다"),location.reload()}))):alert("다시 시도해주세요")}))}),500);case 10:case"end":return e.stop()}}),e)})))()},kluApprove:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,klaytn.enable();case 2:setTimeout((function(){var e=new caver.klay.Contract(y,"0x75dcAA3eb2403c7725Cc8e5E38f6949eBaB28aCC"),n=caver.utils.toBN("2").pow(caver.utils.toBN("256").sub(caver.utils.toBN("1")));e.methods.approve(c.b,n).send({from:klaytn.selectedAddress,gas:3e5}).then((function(){t.setKluApprove(Number(n.div(caver.utils.toBN("10").pow(caver.utils.toBN("18")))))})).catch((function(){alert("다시 시도해주세요")}))}),500);case 3:case"end":return e.stop()}}),e)})))()}},Object(l.c)({connect:"dashboard/connect",setKluApprove:"dashboard/setKluApprove"}))},h=n(55),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.connected?n("a",{staticClass:"link",on:{click:t.kluApprove}},[t._v("KLU 승인")]):n("a",{staticClass:"link",on:{click:t.walletConnect}},[t._v("지갑 연결")])}),[],!1,null,null,null);e.default=component.exports},282:function(t,e,n){"use strict";var r=n(13),o=n(126);r({target:"String",proto:!0,forced:n(127)("sub")},{sub:function(){return o(this,"sub","","")}})},284:function(t,e,n){"use strict";n(5),n(4),n(2),n(1),n(6),n(3),n(7);var r=n(0),o=n(80);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={computed:c({},Object(o.b)({isKluApproval:"dashboard/isKluApproval",dna:"dashboard/dna",whales:"dashboard/whales",whaleCnt:"dashboard/whaleCnt",kluBalance:"dashboard/kluBalance"})),methods:c({kluCheck:function(t){return!(t>this.kluBalance)||(alert("KLU가 부족합니다"),!1)}},Object(o.c)({addDna:"dashboard/addDna",addWhale:"dashboard/addWhale",connect:"dashboard/connect"}))}},287:function(t,e,n){var content=n(290);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("29c4f202",content,!0,{sourceMap:!1})},289:function(t,e,n){"use strict";n(287)},290:function(t,e,n){var r=n(81)(!1);r.push([t.i,".my-whale[data-v-17aa2dfe]{border:2px solid;border-radius:10px;padding:16px}img[data-v-17aa2dfe]{width:100%}",""]),t.exports=r},293:function(t,e,n){"use strict";n.r(e);var r=n(34),o=(n(79),n(11),n(23),n(22),n(37),n(15),n(284)),l=n(280),c=n(279),y={mixins:[o.a],components:{ConnectWallet:l.default},data:function(){return{whale:null,id:0,index:0}},methods:{findWhaleId:function(t){return t.name.split(" ")[2]},selectWhale:function(t,i){this.whale=t,this.index=i,this.id=t.name.split("#")[1]},hunting:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.kluCheck(5)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,klaytn.enable();case 4:setTimeout((function(){var e=new caver.klay.Contract(c.a,c.b);e.methods.HuntingItem(t.id).send({from:klaytn.selectedAddress,gas:1e6}).then((function(n){var r=n.events;if(r.hunting){var o;switch(r.hunting.returnValues[0]){case"head":o="머리 장식";break;case"mouth":o="입 장식";break;case"tail":o="꼬리 장식";break;case"item":o="특별 장식"}alert("".concat(o," 변경: ").concat(r.hunting.returnValues[1])),e.methods.Dashboard().call().then((function(e){e&&(t.connect(e),t.whale=t.whales[t.index])}))}})).catch((function(){alert("다시 시도해주세요")}))}),500);case 5:case"end":return e.stop()}}),e)})))()}}},d=(n(289),n(55)),component=Object(d.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",{staticClass:"mb-5 mt-5 pb-4"},[t._v("Adventure")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"mb-5"},[t._v("\n    모든 장식은 랜덤하게 등장하며, 같은 부위의 장식이 나올 경우 기존 장식은 사라집니다.\n  ")]),t._v(" "),t.isKluApproval?n("div",{staticClass:"mb-4 mt-5"},[t.whales.length>0?n("div",{staticClass:"m-5"},[n("div",{staticClass:"row my-whale mb-5"},t._l(t.whales,(function(e,i){return n("div",{key:i,staticClass:"col-3 link",on:{click:function(n){return t.selectWhale(e,i)}}},[t._v("\n          "+t._s(t.findWhaleId(e))+"\n        ")])})),0),t._v(" "),t.whale?n("div",[n("img",{staticClass:"mb-5",attrs:{src:t.whale.image,alt:"whale"}}),t._v(" "),n("a",{staticClass:"link",on:{click:t.hunting}},[t._v("탐험하기")])]):t._e()]):n("div",[t._v("\n      작은 고래가 다른 지갑에서만 헤엄치고 있습니다.\n    ")])]):n("ConnectWallet")],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-4"},[t._v("\n    바다에는 아주 많은 보물들이 숨어 있습니다."),n("br"),t._v("\n    5 KLU의 비용을 지불하면 넓은 바다를 탐험하고 몸을 치장할 수 있는 장식을 얻을 수 있습니다.\n  ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-4"},[t._v("\n    장식은 머리 장식 / 꼬리 장식 / 입 장식 / 특별 장식 네 가지 부위이며, 계속해서 추가됩니다."),n("br")])}],!1,null,"17aa2dfe",null);e.default=component.exports;installComponents(component,{ConnectWallet:n(280).default})}}]);